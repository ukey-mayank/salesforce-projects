<template>
  <lightning-card
    title={currentCity}
    variant="narrow"
    icon-name="utility:location"
  >
    <div class="slds-p-around_small">
      <lightning-input
        type="text"
        label="Enter City"
        placeholder={currentCity}
        onchange={handleInputChange}
        class="slds-m-around_small"
      ></lightning-input>
      <lightning-combobox
        label="Weather Type"
        options={weatherOptions}
        onchange={handleChange}
        class="slds-m-around_small"
      ></lightning-combobox>
      <lightning-button
        variant="brand"
        onclick={handleBtnClick}
        label="Get Weather"
        class="slds-m-top_small"
        disabled={isLoading}
      ></lightning-button>

      <template if:true={isLoading}>
        <lightning-spinner size="small"></lightning-spinner>
      </template>

      <template if:true={weather}>
        <div
          class="slds-box slds-m-top_medium"
          style="box-shadow: var(--slds-g-shadow-3)"
        >
          <template for:each={weatherFields} for:item="field">
            <p key={field.key}><b>{field.label}: </b>{field.value}</p>
          </template>
        </div>
      </template>
    </div>
  </lightning-card>
</template>
